 <style>
    :root{
      --red:#C62828; --red-dark:#B71C1C; --light-red:#FFCDD2; --bg:#FAFAFA;
      --bottom-nav-min-h:64px; --bottom-nav-pad:64px;
      --field-br:12px; --field-bd:#E6E6E6;
    }
    html,body{height:100%}
    body{
      margin:0; font-family:'Inter',sans-serif; background:var(--bg); color:#212121;
      -webkit-text-size-adjust:100%; -webkit-tap-highlight-color:transparent;
      animation:pageFadeIn .4s ease-in; padding-bottom:var(--bottom-nav-pad);
    }
    @keyframes pageFadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
    section h2{font-size:18px;margin:16px 12px 10px;color:var(--red);font-family:'Playfair Display',serif}

    header{
      background:linear-gradient(135deg,var(--red),#FF5252); color:#fff; padding:16px 12px;
      display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:12px; text-align:center;
    }
    .header-left{display:flex;flex-direction:column;align-items:center;gap:6px;flex:1 1 100%}
    .logo-icon img{width:52px;height:52px;border-radius:12px;background:#fff;padding:4px;box-shadow:0 4px 12px rgba(255,255,255,.4)}
    .logo-text h1{font-family:'Playfair Display',serif;font-size:24px;margin:0;color:#fff;line-height:1.2}
    .logo-text .slogan{font-size:16px;margin-top:4px;color:#FFEAEA;font-weight:400}
    .header-right{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:10px;width:100%}

    .signup-button,.login-button{
      border-radius:12px; padding:12px 14px; box-shadow:0 4px 12px rgba(0,0,0,.08);
      font-weight:600; font-size:14px; text-decoration:none;
      display:inline-flex; align-items:center; justify-content:center; gap:6px;
      min-height:44px; min-width:120px; border:1px solid transparent; transition:background .2s,transform .1s,box-shadow .2s; cursor:pointer;
    }
    .signup-button{background:#FFEBEE;color:var(--red);border-color:var(--red)}
    .login-button{background:var(--red);color:#fff}
    .signup-button:active,.login-button:active{transform:translateY(1px)}

    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;padding:0 12px 24px}
    .card{
      background:rgba(255,255,255,.75); border-radius:16px; padding:14px 10px; text-align:center;
      box-shadow:0 6px 12px rgba(0,0,0,.06); border:1px solid var(--light-red); transition:transform .15s;
      user-select:none; text-decoration:none; color:inherit; display:block; min-height:88px;
    }
    .card:active{transform:translateY(2px)}
    .card .emoji{font-size:22px;display:block}
    .card p{margin-top:8px;font-size:14px;font-weight:600}

    .bottom-nav{
      position:fixed; bottom:0; left:0; right:0; background:#fff; display:flex; justify-content:space-around; align-items:center;
      padding:8px 0 env(safe-area-inset-bottom,0px); box-shadow:0 -4px 12px rgba(0,0,0,.05);
      border-top-left-radius:16px; border-top-right-radius:16px; z-index:10; min-height:var(--bottom-nav-min-h);
    }
    .bottom-nav a{
      flex:1; text-align:center; font-size:22px; color:var(--red); text-decoration:none; padding:10px 0; transition:background .2s;
      border-radius:12px; min-height:44px; display:flex; align-items:center; justify-content:center; gap:6px;
    }
    .bottom-nav a:active{background:#FFEBEE}

    /* Footer + consent + banner */
    footer.site-footer { margin: 24px 0 calc(var(--bottom-nav-pad) + 8px); padding: 16px 12px; color: #666; font-size: 13px; text-align: center; }
    .footer-links { display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-bottom:6px; }
    .footer-links a { color:var(--red); font-weight:700; text-decoration:none; }
    .footer-links a:hover { text-decoration:underline; }
    .consent { display:grid; grid-template-columns:auto 1fr; gap:10px; align-items:start; font-size:13px; color:#444; }
    .consent a { color:var(--red); font-weight:700; text-decoration:none; }
    .consent a:hover { text-decoration:underline; }
    .consent input[type="checkbox"] { margin-top:2px; width:18px; height:18px; accent-color:var(--red); }
    .consent-error { color:#B00020; font-size:12px; margin-top:4px; display:none; }
    .session-banner { display:none; background:#FFF0F1; border:1px solid #FFC1C4; border-radius:12px; padding:10px 12px; margin:0 12px 12px; color:#C62828; font-size:14px; }

    /* Overlay/dialog chung */
    .overlay{
      position:fixed; inset:0; background:rgba(15,15,15,.5); display:none; justify-content:center; align-items:center; z-index:999;
      padding:16px; backdrop-filter:blur(4px);
    }
    .overlay.active{display:flex}
    body.popup-active #main-content{filter:blur(4px); pointer-events:none}
    .dialog{
      background:#fff; padding:24px 20px 20px; border-radius:20px; width:100%; max-width:420px; position:relative;
      box-shadow:0 16px 40px rgba(0,0,0,.18); border:1px solid #F3F3F3; animation:popupIn .25s ease;
    }
    @keyframes popupIn{from{opacity:0;transform:scale(.96)}to{opacity:1;transform:scale(1)}}
    .close-btn{
      position:absolute; top:12px; right:12px; width:40px; height:40px; background:#FFF; border:2px solid var(--red);
      border-radius:10px; display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
      box-shadow:0 2px 8px rgba(0,0,0,.08); transition:background .15s, box-shadow .15s, transform .05s;
    }
    .close-btn:hover{background:#FFEBEE}
    .close-btn:active{transform:translateY(1px)}
    .close-btn .x{font-size:18px; line-height:1; color:var(--red); font-weight:700}

    /* Popup 1: chọn vai trò */
    .role-title{margin:4px 0 8px; font-size:20px; color:var(--red); font-family:'Playfair Display',serif}
    .role-subtitle{margin:0 0 16px; font-size:14px; color:#666}
    .role-actions{display:grid; grid-template-columns:1fr; gap:10px; margin-top:8px}
    @media(min-width:420px){.role-actions{grid-template-columns:1fr 1fr}}
    .role-btn{
      width:100%; padding:12px; font-size:15px; font-weight:700; border-radius:12px; cursor:pointer; min-height:44px;
      display:inline-flex; align-items:center; justify-content:center; gap:8px; border:2px solid transparent;
      transition:background .15s, transform .05s, box-shadow .15s, border-color .15s;
    }
    .role-btn:active{transform:translateY(1px)}
    .btn-customer{background:#FFF7F8; color:var(--red); border-color:#F8B6BE}
    .btn-customer:hover{background:#FFEBEE}
    .btn-expert{background:var(--red); color:#fff; border-color:var(--red-dark)}
    .btn-expert:hover{background:var(--red-dark)}

    /* Popup 2: form đăng nhập khách hàng */
    .form-title{margin:4px 0 12px; font-size:20px; color:var(--red); font-family:'Playfair Display',serif}
    .form-desc{margin:0 0 16px; font-size:14px; color:#666}
    .form{display:grid; gap:12px}
    .field{display:grid; gap:6px}
    .label{font-size:13px; color:#444; font-weight:600}
    .input{
      width:100%; padding:12px 12px; border:1.5px solid var(--field-bd); border-radius:var(--field-br); background:#fff;
      font-size:15px; outline:none; transition:border-color .15s, box-shadow .15s;
    }
    .input:focus{border-color:var(--red); box-shadow:0 0 0 3px rgba(198,40,40,.15)}
    .help{font-size:12px; color:#888}

    /* Autocomplete gợi ý */
    .suggest { position:relative; }
    #locList { position:absolute; z-index:2; left:0; right:0; margin:4px 0 0; padding:6px; background:#fff; border:1px solid #eee; border-radius:10px; max-height:220px; overflow:auto; list-style:none; }

    /* Khối action địa chỉ */
    .location-actions{
      display:flex; flex-wrap:wrap; align-items:center; justify-content:space-between;
      gap:8px; margin-top:2px;
    }
    .btn-secondary{
      background:#FFF7F8; color:var(--red); border:2px solid #F8B6BE; border-radius:12px;
      padding:10px 12px; font-weight:700; font-size:14px; cursor:pointer; min-height:40px;
      transition:background .15s, transform .05s, border-color .15s;
    }
    .btn-secondary:hover{background:#FFEBEE}
    .btn-secondary:active{transform:translateY(1px)}
    .map-link{
      font-size:14px; color:var(--red); text-decoration:none; font-weight:700;
      padding:8px 10px; border-radius:10px; background:#FFF7F8; border:1px dashed #F8B6BE;
    }
    .map-link[aria-disabled="true"]{opacity:.6; pointer-events:none}

    /* Popup 3: chọn vị trí trên bản đồ */
    .map-dialog .form-title{margin-bottom:8px}
    #pickMap{width:100%; height:340px; border-radius:12px; overflow:hidden; border:1px solid #eee}
    .map-actions{display:flex; gap:8px; margin-top:12px; justify-content:flex-end}
    .btn-outline{
      background:#fff; color:#444; border:2px solid #ddd; border-radius:12px; padding:10px 12px; font-weight:700; font-size:14px; cursor:pointer;
    }
    .btn-outline:hover{background:#f9f9f9}
    .btn-confirm{
      background:var(--red); color:#fff; border:none; border-radius:12px; padding:10px 14px; font-weight:700; font-size:14px; cursor:pointer;
    }
    .btn-confirm:hover{background:var(--red-dark)}

    .actions{display:grid; gap:10px; margin-top:6px}
    .btn-primary{
      background:var(--red); color:#fff; border:none; border-radius:12px; padding:12px; font-weight:700; font-size:15px; cursor:pointer;
      min-height:44px; transition:background .15s, transform .05s, box-shadow .15s;
    }
    .btn-primary:hover{background:var(--red-dark)}
    .btn-primary:active{transform:translateY(1px)}
    .note{font-size:12px; color:#777; text-align:center}

    @media(min-width:481px){
      .header-left{align-items:flex-start; text-align:left; flex:1 1 auto}
      .header-right{flex:0 0 auto; width:auto; flex-direction:column; gap:8px}
      .logo-text h1{font-size:26px} .logo-text .slogan{font-size:18px}
    }
    @media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}
  </style>