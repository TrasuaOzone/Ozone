<!-- OVERLAY: Lá»›p phá»§ má» toÃ n mÃ n hÃ¬nh khi má»Ÿ popup -->
<div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-labelledby="dialogTitle" aria-describedby="dialogDesc">

  <!-- DIALOG 1: Chá»n vai trÃ² -->
  <div class="dialog" id="roleBox" hidden>
    <!-- NÃºt Ä‘Ã³ng popup -->
    <button class="close-btn" type="button" id="closeRole" aria-label="ÄÃ³ng cá»­a sá»•">
      <span class="x" aria-hidden="true">âœ•</span>
    </button>
    <!-- TiÃªu Ä‘á» popup -->
    <h2 class="role-title" id="dialogTitle">Chá»n vai trÃ² Ä‘á»ƒ tiáº¿p tá»¥c</h2>
    <!-- MÃ´ táº£ ngáº¯n -->
    <p class="role-subtitle" id="dialogDesc">Vui lÃ²ng chá»n vai trÃ² phÃ¹ há»£p Ä‘á»ƒ chÃºng tÃ´i Ä‘iá»u hÆ°á»›ng báº¡n Ä‘áº¿n Ä‘Ãºng nÆ¡i.</p>
    <!-- NhÃ³m nÃºt chá»n vai trÃ² -->
    <div class="role-actions">
      <!-- NÃºt chá»n vai trÃ² khÃ¡ch hÃ ng -->
      <button type="button" id="roleCustomer" class="role-btn btn-customer" aria-label="Báº¡n lÃ  khÃ¡ch hÃ ng">
        <span aria-hidden="true">ğŸ‘¤</span> Báº¡n lÃ  khÃ¡ch hÃ ng
      </button>
      <!-- NÃºt chá»n vai trÃ² chuyÃªn gia -->
      <button type="button" id="roleExpert" class="role-btn btn-expert" aria-label="Báº¡n lÃ  chuyÃªn gia">
        <span aria-hidden="true">ğŸ§ </span> Báº¡n lÃ  chuyÃªn gia
      </button>
    </div>
    <!-- Ghi chÃº Ä‘iá»u khoáº£n -->
    <p class="help" style="text-align:center;margin-top:10px;">
      Khi tiáº¿p tá»¥c, báº¡n cháº¥p nháº­n
      <a href="terms.html" target="_blank" rel="noopener">Äiá»u khoáº£n sá»­ dá»¥ng</a> vÃ 
      <a href="privacy.html" target="_blank" rel="noopener">ChÃ­nh sÃ¡ch quyá»n riÃªng tÆ°</a>.
    </p>
  </div>

  <!-- DIALOG 2: ÄÄƒng nháº­p khÃ¡ch hÃ ng -->
  <div class="dialog" id="customerBox" hidden aria-labelledby="customerTitle" aria-describedby="customerDesc">
    <!-- NÃºt Ä‘Ã³ng popup -->
    <button class="close-btn" type="button" id="closeCustomer" aria-label="ÄÃ³ng cá»­a sá»•">
      <span class="x" aria-hidden="true">âœ•</span>
    </button>
    <!-- TiÃªu Ä‘á» -->
    <h2 class="form-title" id="customerTitle">ÄÄƒng nháº­p khÃ¡ch hÃ ng</h2>
    <!-- MÃ´ táº£ -->
    <p class="form-desc" id="customerDesc">Nháº­p thÃ´ng tin cá»§a báº¡n Ä‘á»ƒ tiáº¿p tá»¥c sá»­ dá»¥ng dá»‹ch vá»¥.</p>

    <!-- Ã” tÃ¬m kiáº¿m Ä‘á»‹a chá»‰ nhanh (autocomplete) -->
    <div class="field">
      <label class="label" for="locSearch">TÃ¬m nhanh Ä‘á»‹a chá»‰</label>
      <input class="input" type="text" id="locSearch" placeholder="Nháº­p tÃªn Ä‘Æ°á»ng, phÆ°á»ng, quáº­n, thÃ nh phá»‘..." autocomplete="off" />
      <!-- Khá»‘i gá»£i Ã½ -->
      <div id="locSuggest" class="suggest" style="display:none;">
        <ul id="locList"></ul>
      </div>
      <span class="help">Chá»n má»™t gá»£i Ã½ Ä‘á»ƒ Ä‘iá»n Ä‘á»‹a chá»‰ ngay.</span>
    </div>

    <!-- Form Ä‘Äƒng nháº­p -->
    <form class="form" id="customerForm" novalidate>
      <!-- TÃªn khÃ¡ch hÃ ng -->
      <div class="field">
        <label class="label" for="cusName">TÃªn khÃ¡ch hÃ ng</label>
        <input class="input" type="text" id="cusName" name="name" placeholder="Nguyá»…n VÄƒn A" autocomplete="name" required />
      </div>

      <!-- Sá»‘ Ä‘iá»‡n thoáº¡i -->
      <div class="field">
        <label class="label" for="cusPhone">Sá»‘ Ä‘iá»‡n thoáº¡i</label>
        <input class="input" type="tel" id="cusPhone" name="phone" placeholder="09xx xxx xxx" inputmode="tel" autocomplete="tel" pattern="^0[0-9]{9,10}$" required />
        <span class="help">Nháº­p sá»‘ di Ä‘á»™ng Viá»‡t Nam, báº¯t Ä‘áº§u báº±ng 0.</span>
      </div>

      <!-- Vá»‹ trÃ­ -->
      <div class="field">
        <label class="label" for="cusLocation">Vá»‹ trÃ­</label>
        <input class="input" type="text" id="cusLocation" name="location" placeholder="PhÆ°á»ng/Quáº­n/ThÃ nh phá»‘" autocomplete="street-address" required />
        <!-- NhÃ³m nÃºt hÃ nh Ä‘á»™ng vá»‹ trÃ­ -->
        <div class="location-actions">
          <button type="button" id="getLocationBtn" class="btn-secondary">ğŸ“ Láº¥y Ä‘á»‹a chá»‰ hiá»‡n táº¡i</button>
          <a id="viewMapLink" class="map-link" href="#" target="_blank" rel="noopener" aria-disabled="true">vá»‹ trÃ­ cá»§a báº¡n</a>
          <button type="button" id="pickOnMapBtn" class="btn-secondary">ğŸ—ºï¸ Chá»n trÃªn báº£n Ä‘á»“</button>
        </div>
        <span class="help" id="locHelp">Cho phÃ©p quyá»n vá»‹ trÃ­ Ä‘á»ƒ tá»± Ä‘á»™ng Ä‘iá»n Ä‘á»‹a chá»‰, hoáº·c chá»n trÃªn báº£n Ä‘á»“.</span>
      </div>

      <!-- Äá»“ng Ã½ Ä‘iá»u khoáº£n -->
      <div class="consent">
        <input id="consentCustomer" type="checkbox" required aria-describedby="consentCustomerErr">
        <label for="consentCustomer">
          TÃ´i Ä‘á»“ng Ã½ <a href="terms.html" target="_blank" rel="noopener">Äiá»u khoáº£n sá»­ dá»¥ng</a> vÃ 
          <a href="privacy.html" target="_blank" rel="noopener">ChÃ­nh sÃ¡ch quyá»n riÃªng tÆ°</a>.
        </label>
      </div>
      <div id="consentCustomerErr" class="consent-error">Báº¡n cáº§n Ä‘á»“ng Ã½ Äiá»u khoáº£n vÃ  ChÃ­nh sÃ¡ch Ä‘á»ƒ tiáº¿p tá»¥c.</div>

      <!-- NÃºt submit -->
      <div class="actions">
        <button type="submit" class="btn-primary" id="customerLoginBtn">ÄÄƒng nháº­p</button>
        <div class="note">Báº±ng cÃ¡ch tiáº¿p tá»¥c, báº¡n Ä‘á»“ng Ã½ vá»›i Ä‘iá»u khoáº£n vÃ  chÃ­nh sÃ¡ch cá»§a chÃºng tÃ´i.</div>
      </div>
    </form>
  </div>

  <!-- DIALOG 3: Chá»n vá»‹ trÃ­ trÃªn báº£n Ä‘á»“ -->
  <div class="dialog map-dialog" id="mapBox" hidden aria-labelledby="mapTitle">
    <!-- NÃºt Ä‘Ã³ng -->
    <button class="close-btn" type="button" id="closeMap" aria-label="ÄÃ³ng báº£n Ä‘á»“">
      <span class="x" aria-hidden="true">âœ•</span>
    </button>
    <!-- TiÃªu Ä‘á» -->
    <h2 class="form-title" id="mapTitle">Chá»n vá»‹ trÃ­ trÃªn báº£n Ä‘á»“</h2>
    <!-- Khung báº£n Ä‘á»“ -->
    <div id="pickMap" role="application" aria-label="Báº£n Ä‘á»“ chá»n vá»‹ trÃ­"></div>
    <!-- NhÃ³m nÃºt hÃ nh Ä‘á»™ng báº£n Ä‘á»“ -->
    <div class="map-actions">
      <button type="button" class="btn-outline" id="mapMyLoc">ğŸ“ ÄÆ°a ghim vá» vá»‹ trÃ­ cá»§a tÃ´i</button>
      <button type="button" class="btn-confirm" id="mapConfirm">XÃ¡c nháº­n vá»‹ trÃ­</button>
    </div>
    <div class="help" id="mapHelp" style="margin-top:6px;">KÃ©o ghim Ä‘áº¿n vá»‹ trÃ­ mong muá»‘n, sau Ä‘Ã³ báº¥m XÃ¡c nháº­n.</div>
  </div>

</div>
